<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Inicio</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content style="background: var(--ion-color-light);">
  <div class="container">
    <!-- Tarjeta: Total Ventas del Mes -->
    <ion-card class="info-card" button="true" routerLink="../listar-ventas">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="stats-chart-outline" style="margin-right: 8px;"></ion-icon>
          Total Ventas del Mes
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <h1 class="number-highlight">{{ ventasMes }}</h1>
        <p>Ventas Realizadas</p>
      </ion-card-content>
    </ion-card>

    <!-- Tarjeta: Total Proveedores -->
    <ion-card class="info-card" button="true" routerLink="../listar-proveedores">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="people-circle-outline" style="margin-right: 8px;"></ion-icon>
          Total Proveedores
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <h1 class="number-highlight">{{ totalProveedores }}</h1>
        <p>Proveedores Registrados</p>
      </ion-card-content>
    </ion-card>

    <!-- Tarjeta: Proveedor Estrella -->
    <ion-card class="info-card" button="true">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="ribbon-outline" style="margin-right: 8px;"></ion-icon>
          Proveedor Estrella
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <h2>{{ proveedorEstrella.nombre }}</h2>
        <p>{{ proveedorEstrella.total_ventas }} Ventas</p>
      </ion-card-content>
    </ion-card>

    <!-- Tarjeta: Clientes con más Compras -->
    <ion-card class="info-card" button="true" >
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="star-outline" style="margin-right: 8px;"></ion-icon>
          Clientes con Más Compras
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list lines="none">
          <ion-item *ngFor="let cliente of topClientes">
            <ion-label>
              <strong>{{ cliente.nombre }} {{ cliente.apellido }}</strong> - {{ cliente.total_compras }} Compras
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
    <ion-button expand="block" color="tertiary" (click)="descargarReporte()">
      <ion-icon name="download-outline" slot="start"></ion-icon>
      Descargar Reporte
    </ion-button>
    <!-- Tarjeta: Ventas Semanales -->
    <ion-card class="info-card" button="true">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="bar-chart-outline" style="margin-right: 8px;"></ion-icon>
          Ventas Semanales
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>Visualiza el comportamiento de las ventas durante la semana.</p>
        <div class="card">
          <canvas id="ventasSemanalesChart" width="500" height="300"></canvas>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Tarjeta: Progreso de Transferencias -->
    <ion-card class="info-card" button="true">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="trending-up-outline" style="margin-right: 8px;"></ion-icon>
          Progreso de Transferencias
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>Monitoreo del número de transferencias realizadas en el mes.</p>
        <div class="progress-container">
          <div class="progress-bar" [style.width.%]="transferenciasProgress"></div>
        </div>
        <p class="progress-text">{{ transferenciasCount }}/50</p>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
